[build]
  base = "."
  command = "npm install && npm run build"
  publish = "Brandible"

# ============================================
# DOMAIN CANONICALIZATION (301 redirects)
# ============================================
# Force all traffic to www HTTPS

[[redirects]]
  from = "http://brandiblemg.com/*"
  to = "https://www.brandiblemg.com/:splat"
  status = 301
  force = true

[[redirects]]
  from = "http://www.brandiblemg.com/*"
  to = "https://www.brandiblemg.com/:splat"
  status = 301
  force = true

[[redirects]]
  from = "https://brandiblemg.com/*"
  to = "https://www.brandiblemg.com/:splat"
  status = 301
  force = true

# ============================================
# TRAILING SLASH HANDLING (301 redirects)
# ============================================

[[redirects]]
  from = "/about"
  to = "/about/"
  status = 301

[[redirects]]
  from = "/contact"
  to = "/contact/"
  status = 301

[[redirects]]
  from = "/portfolio"
  to = "/portfolio/"
  status = 301

[[redirects]]
  from = "/services"
  to = "/services/"
  status = 301

[[redirects]]
  from = "/faqs"
  to = "/faqs/"
  status = 301

[[redirects]]
  from = "/careers"
  to = "/careers/"
  status = 301

[[redirects]]
  from = "/blogs"
  to = "/blogs/"
  status = 301

[[redirects]]
  from = "/services/web-design"
  to = "/services/web-design/"
  status = 301

[[redirects]]
  from = "/services/digital-marketing"
  to = "/services/digital-marketing/"
  status = 301

[[redirects]]
  from = "/services/branding"
  to = "/services/branding/"
  status = 301

[[redirects]]
  from = "/services/media-management"
  to = "/services/media-management/"
  status = 301

[[redirects]]
  from = "/blogs/post"
  to = "/blogs/"
  status = 301

[[redirects]]
  from = "/blogs/post/"
  to = "/blogs/"
  status = 301

# ============================================
# HTML EXTENSION HANDLING
# ============================================

[[redirects]]
  from = "/terms/"
  to = "/terms.html"
  status = 200

[[redirects]]
  from = "/privacy/"
  to = "/privacy.html"
  status = 200

[[redirects]]
  from = "/terms.html"
  to = "/terms/"
  status = 301

[[redirects]]
  from = "/privacy.html"
  to = "/privacy/"
  status = 301

# ============================================
# INTERNAL REWRITES (200 status - no redirect)
# ============================================

[[redirects]]
  from = "/"
  to = "/index.html"
  status = 200

[[redirects]]
  from = "/about/"
  to = "/about/index.html"
  status = 200

[[redirects]]
  from = "/contact/"
  to = "/contact/index.html"
  status = 200

[[redirects]]
  from = "/portfolio/"
  to = "/portfolio/index.html"
  status = 200

[[redirects]]
  from = "/services/"
  to = "/services/index.html"
  status = 200
  force = true

[[redirects]]
  from = "/faqs/"
  to = "/faqs/index.html"
  status = 200
  force = true

[[redirects]]
  from = "/careers/"
  to = "/careers/index.html"
  status = 200

[[redirects]]
  from = "/blogs/"
  to = "/blogs/index.html"
  status = 200

[[redirects]]
  from = "/admin/"
  to = "/admin/index.html"
  status = 200

[[redirects]]
  from = "/services/web-design/"
  to = "/services/web-design/index.html"
  status = 200

[[redirects]]
  from = "/services/digital-marketing/"
  to = "/services/digital-marketing/index.html"
  status = 200

[[redirects]]
  from = "/services/branding/"
  to = "/services/branding/index.html"
  status = 200

[[redirects]]
  from = "/services/media-management/"
  to = "/services/media-management/index.html"
  status = 200

[[redirects]]
  from = "/favicon.ico"
  to = "/assets/favicon.ico"
  status = 200
